<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title>Início</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding" [fullscreen]="true" color="light">

  <section class="hero">
    <div class="hero-content">
      <h1 class="hero-title">Bem-vindo ao PRODEX, seu App de gerenciamento de Produtos</h1>
      <p class="hero-subtitle">Vamos simplificar a gestão de seus Produtos...</p>
      <ion-button
        [routerLink]="['/products-list']"
        expand="block"
        color="dark"
        class="cta-button"
        routerDirection="root">
        COMEÇAR →
      </ion-button>
    </div>
  </section>

  <section class="features">
    <h2 class="section-title">Principais Recursos do APP</h2>
    <ion-grid>
      <ion-row>
        <ion-col size="12" size-md="4">
          <div class="feature-card">
            <ion-icon name="add-circle" class="feature-icon"></ion-icon>
            <h3>Cadastro Otimizado</h3>
            <p>Cadastre rapidamente novos produtos com um formulário prático </p>
          </div>
        </ion-col>
        <ion-col size="12" size-md="4">
          <div class="feature-card">
            <ion-icon name="pricetag" class="feature-icon"></ion-icon>
            <h3>Acompanhamento de Preços</h3>
            <p>Monitore e atualize preços de produtos facilmente</p>
          </div>
        </ion-col>
        <ion-col size="12" size-md="4">
          <div class="feature-card">
            <ion-icon name="star" class="feature-icon"></ion-icon>
            <h3>Favoritos</h3>
            <p>Marque e gerencie seus principais produtos</p>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </section>

<section class="favorites">
  <h2 class="section-title">Favoritos</h2>
  <ng-container *ngIf="(favoriteProducts | async) as favs">
    <div class="no-favorites" *ngIf="favs.length === 0">
      <ion-icon name="star-outline" class="empty-icon"></ion-icon>
      <p>Ainda nenhum favorito cadastrado</p>
      <p>Marque produtos como favoritos para adicioná-los diretamente aqui!</p>
    </div>

    <ion-list *ngIf="favs.length > 0">
      <ion-item-sliding *ngFor="let product of favs">
        <ion-item class="favorite-item">
          <ion-label>
            <h2>{{ product.name }}</h2>
            <p>{{ product.description }}</p>
            <p class="price">${{ product.price | number:'1.2-2' }}</p>
          </ion-label>
         <ion-button fill="clear" (click)="toggleFavorite(product)">
            <ion-icon
              [name]="product.favorite ? 'star' : 'star-outline'"
              [color]="product.favorite ? 'warning' : 'medium'">
            </ion-icon>
          </ion-button>
        </ion-item>
      </ion-item-sliding>
    </ion-list>
  </ng-container>
</section>

  <section class="roadmap">
    <h2 class="section-title">Em Breve</h2>
    <ion-list lines="none">
      <ion-item>
        <ion-icon name="people-outline" slot="start"></ion-icon>
        <ion-label>Login de Usuários</ion-label>
      </ion-item>
    </ion-list>
  </section>

  <h1>Produtos</h1>
  <ion-list>
    <ion-item *ngFor="let product of (products | async)">
      <ion-label>
        <h2>{{ product.name }}</h2>
        <p>{{ product.description }}</p>
        <p>${{ product.price }}</p>
      </ion-label>
      <ion-button fill="clear" (click)="toggleFavorite(product)">
        <ion-icon
          [name]="product.favorite ? 'star' : 'star-outline'"
        ></ion-icon>
      </ion-button>
    </ion-item>
  </ion-list>
</ion-content>